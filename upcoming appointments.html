<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./dashboard items/availability.css" />
    <link rel="stylesheet" href="../sidebar.css" />
    <link rel="stylesheet" href="../nav.css" />
    <script
      type="text/javascript"
      src="https://cdn.weglot.com/weglot.min.js"
    ></script>
    <script>
      Weglot.initialize({
        api_key: "wg_6595b397394b082513ae5269c8992a3d7",
      });
    </script>
  </head>

  <nav>
    <h3>My Dashboard</h3>
    <ul>
      <li>
        <a href="../dashboard.html"><i class="fas fa-home"></i>Home</a>
      </li>
      <li>
        <a href="./profile.html"><i class="fas fa-user"></i>Profile</a>
      </li>

      <li>
        <a href="#upcoming.html"
          ><i class="fas fa-users"></i>Upcoming Appointments</a
        >
      </li>
      <li>
        <a href="../dashboard items/availability.html"
          ><i class="fas fa-clock"></i>Edit Availability</a
        >
      </li>
    </ul>
  </nav>

  <body onload="renderDate()">
    <h2 style="text-align: center;">Upcoming Appointments</h2>
    <div class="grid">
      <div class="wrapper">
        <div class="calendar">
          <div class="month">
            <div class="prev" onclick="moveDate('prev')">
              <span>&#10094;</span>
            </div>
            <div>
              <h2 id="month"></h2>
              <p id="date_str"></p>
            </div>
            <div class="next" onclick="moveDate('next')">
              <span>&#10095;</span>
            </div>
          </div>
          <div class="weekdays">
            <div>Sun</div>
            <div>Mon</div>
            <div>Tue</div>
            <div>Wed</div>
            <div>Thu</div>
            <div>Fri</div>
            <div>Sat</div>
          </div>
          <div class="days"></div>
        </div>
      </div>

      <div class="slots">
        <div class="month">
          <h2 id="month"></h2>
        </div>

        <p></p>
      </div>
    </div>
  </body>
  <script>
    var dt = new Date();
    function renderDate() {
      dt.setDate(1);
      var day = dt.getDay();
      var today = new Date();
      var endDate = new Date(dt.getFullYear(), dt.getMonth() + 1, 0).getDate();

      var prevDate = new Date(dt.getFullYear(), dt.getMonth(), 0).getDate();
      var months = [
        "January",
        "February",
        "March",
        "April",
        "May",
        "June",
        "July",
        "August",
        "September",
        "October",
        "November",
        "December",
      ];
      document.getElementById("month").innerHTML = months[dt.getMonth()];
      document.getElementById("date_str").innerHTML = dt.toDateString();
      var cells = "";
      for (x = day; x > 0; x--) {
        cells += "<div class='prev_date'>" + (prevDate - x + 1) + "</div>";
      }
      console.log(day);
      for (i = 1; i <= endDate; i++) {
        if (i == today.getDate() && dt.getMonth() == today.getMonth())
          cells += "<div class='today'>" + i + "</div>";
        else cells += "<div>" + i + "</div>";
      }
      document.getElementsByClassName("days")[0].innerHTML = cells;
    }

    function moveDate(para) {
      if (para == "prev") {
        dt.setMonth(dt.getMonth() - 1);
      } else if (para == "next") {
        dt.setMonth(dt.getMonth() + 1);
      }
      renderDate();
    }
  </script>
  <script>
    $(function () {
      $("#datepicker").datepicker();
    });
  </script>
</html>
